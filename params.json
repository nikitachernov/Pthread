{"name":"Pthread","tagline":"Parallel \"threads\" in Ruby using dRb","body":"# Pthread\r\n\r\nModule Pthread provides possibility for Ruby to run pieces of code in parallel using additional Unix processes on the same or other machines in the network.\r\n\r\n[![Build Status](https://travis-ci.org/nikitachernov/Pthread.png)](https://travis-ci.org/nikitachernov/Pthread)\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'pthread'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install pthread\r\n\r\n## Usage\r\n\r\nBefore using parallel threads you should configure a dRb server:\r\n\r\n    Pthread::Pthread.start_service '192.168.1.100:12345'\r\n\r\nPthreads are actual Unix processes. You can add process-workers on the same machine as the main programm by calling:\r\n\r\n    Pthread::Pthread.add_executor 'tasks'\r\n\r\nor\r\n\r\n    Pthread::Pthread.add_executors 5, 'tasks'\r\n\r\nMethods #add_executor and #add_executors take an optional parameter that specifies a queue name.\r\n\r\nIn order to connect an executor from a separate machine in your programm you can call:\r\n\r\n    Pthread::PthreadExecutor.new '192.168.1.100:12345', 'tasks'\r\n\r\nspecifing the host and a desired queue.\r\n\r\nNow you can spawn Pthreads in order to gain multicore performance by providing name of the queue, code to be executed and context variables:\r\n\r\n    pthread = Pthread::Pthread.new queue: 'tasks', code: %{\r\n      x ** 2\r\n    }, context: { x: 5 }\r\n\r\nWhen you need to get the value back simple call\r\n\r\n    pthread.value # => 25\r\n\r\n### Exceptions\r\nIf exception is raised inside a pthread in doesn't affect the whole process.\r\nException is raise by accesing pthread's value.\r\n\r\n    pthread.value # => raise exception\r\n\r\n### Stop executors\r\nTo stop executors on the server machine simply run\r\n\r\n    Pthread::Pthread.kill_executors\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}